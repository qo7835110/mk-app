<template>
    <div class="flex flex-col items-center transition-all duration-300"
        :class="isSidebarCollapsed ? 'w-[80px]' : 'w-[258px]'">

        <!-- Logo -->
        <div v-if="!isSidebarCollapsed" class="w-[162px]">
            <img src="~/assets/images/logo.svg" alt="Logo" />
        </div>

        <!-- Collapsed Logo -->
        <div v-else class="w-[48px] h-[48px] flex items-center justify-center">
            <div class="w-[32px] h-[32px] bg-[#F2C7BA] rounded-lg flex items-center justify-center">
                <span class="text-brown font-bold text-lg">M</span>
            </div>
        </div>

        <!-- User Profile -->
        <div class="flex items-center h-[48px] w-[196px] mt-[48px]">
            <div
                class="size-[48px] rounded-full bg-[#F2C7BA] bg-[url('~/assets/images/avatar.png')] bg-cover bg-center" />
            <div class="flex items-center ml-[20px]">
                <div class="font-black text-brown mr-[12px] text-[20px]">倪方可</div>
                <div class="font-medium text-brown text-[16px]">哈囉 !</div>
            </div>
        </div>

        <!-- Navigation Menu -->
        <div class="mt-[48px] space-y-[12px]">
            <!-- 主界面 -->
            <div class="">
                <div class="flex items-center justify-between h-[48px] w-[196px] rounded-xl px-[20px] py-[16px] cursor-pointer"
                    :class="isMainMenuActive ? 'bg-[#ebe2dc] text-brown' : 'text-[#adaca7] hover:bg-[#f5f2ed]'"
                    @click="toggleMainMenu">
                    <div class="flex items-center">
                        <div>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6.57129 2.75C7.31425 2.75 7.83235 2.75039 8.2373 2.7793C8.63514 2.80772 8.86691 2.86069 9.04297 2.9375C9.56314 3.16451 9.97812 3.58039 10.2051 4.10059C10.2818 4.27661 10.3349 4.50764 10.3633 4.90527C10.3922 5.31025 10.3926 5.82822 10.3926 6.57129C10.3926 7.31426 10.3922 7.83235 10.3633 8.2373C10.3349 8.63514 10.2819 8.86691 10.2051 9.04297C9.9781 9.56299 9.56299 9.9781 9.04297 10.2051C8.86691 10.2819 8.63514 10.3349 8.2373 10.3633C7.83235 10.3922 7.31426 10.3926 6.57129 10.3926C5.82822 10.3926 5.31025 10.3922 4.90527 10.3633C4.50764 10.3349 4.27661 10.2818 4.10059 10.2051C3.58039 9.97812 3.16451 9.56314 2.9375 9.04297C2.86069 8.86691 2.80772 8.63514 2.7793 8.2373C2.75039 7.83235 2.75 7.31425 2.75 6.57129C2.75 5.82823 2.75037 5.31025 2.7793 4.90527C2.8077 4.50772 2.86077 4.2766 2.9375 4.10059C3.16449 3.58032 3.58032 3.16449 4.10059 2.9375C4.2766 2.86077 4.50772 2.8077 4.90527 2.7793C5.31025 2.75037 5.82823 2.75 6.57129 2.75Z"
                                    :stroke="isMainMenuActive ? '#242220' : '#242220'" stroke-width="1.5"
                                    stroke-opacity="0.56" />
                                <path
                                    d="M6.57129 13.6071C7.31425 13.6071 7.83235 13.6075 8.2373 13.6364C8.63514 13.6649 8.86691 13.7178 9.04297 13.7946C9.56314 14.0217 9.97812 14.4375 10.2051 14.9577C10.2818 15.1338 10.3349 15.3648 10.3633 15.7624C10.3922 16.1674 10.3926 16.6854 10.3926 17.4284C10.3926 18.1714 10.3922 18.6895 10.3633 19.0945C10.3349 19.4923 10.2819 19.7241 10.2051 19.9001C9.9781 20.4201 9.56299 20.8353 9.04297 21.0622C8.86691 21.139 8.63514 21.192 8.2373 21.2204C7.83235 21.2493 7.31426 21.2497 6.57129 21.2497C5.82822 21.2497 5.31025 21.2494 4.90527 21.2204C4.50764 21.192 4.27661 21.139 4.10059 21.0622C3.58039 20.8353 3.16451 20.4203 2.9375 19.9001C2.86069 19.7241 2.80772 19.4923 2.7793 19.0945C2.75039 18.6895 2.75 18.1714 2.75 17.4284C2.75 16.6854 2.75037 16.1674 2.7793 15.7624C2.8077 15.3649 2.86077 15.1337 2.9375 14.9577C3.16449 14.4375 3.58032 14.0216 4.10059 13.7946C4.2766 13.7179 4.50772 13.6648 4.90527 13.6364C5.31025 13.6075 5.82823 13.6071 6.57129 13.6071Z"
                                    :stroke="isMainMenuActive ? '#242220' : '#242220'" stroke-width="1.5"
                                    stroke-opacity="0.56" />
                                <path
                                    d="M17.4285 2.75C18.1714 2.75 18.6895 2.75039 19.0945 2.7793C19.4923 2.80772 19.7241 2.86069 19.9001 2.9375C20.4203 3.16451 20.8353 3.58039 21.0623 4.10059C21.139 4.27661 21.1921 4.50764 21.2205 4.90527C21.2494 5.31025 21.2498 5.82822 21.2498 6.57129C21.2498 7.31426 21.2494 7.83235 21.2205 8.2373C21.192 8.63514 21.1391 8.86691 21.0623 9.04297C20.8353 9.56299 20.4202 9.9781 19.9001 10.2051C19.7241 10.2819 19.4923 10.3349 19.0945 10.3633C18.6895 10.3922 18.1714 10.3926 17.4285 10.3926C16.6854 10.3926 16.1674 10.3922 15.7625 10.3633C15.3648 10.3349 15.1338 10.2818 14.9578 10.2051C14.4376 9.97812 14.0217 9.56314 13.7947 9.04297C13.7179 8.86691 13.6649 8.63514 13.6365 8.2373C13.6076 7.83235 13.6072 7.31425 13.6072 6.57129C13.6072 5.82823 13.6076 5.31025 13.6365 4.90527C13.6649 4.50772 13.718 4.2766 13.7947 4.10059C14.0217 3.58032 14.4375 3.16449 14.9578 2.9375C15.1338 2.86077 15.3649 2.8077 15.7625 2.7793C16.1674 2.75037 16.6854 2.75 17.4285 2.75Z"
                                    :stroke="isMainMenuActive ? '#242220' : '#242220'" stroke-width="1.5"
                                    stroke-opacity="0.56" />
                                <path
                                    d="M17.4285 13.6071C18.1714 13.6071 18.6895 13.6075 19.0945 13.6364C19.4923 13.6649 19.7241 13.7178 19.9001 13.7946C20.4203 14.0217 20.8353 14.4375 21.0623 14.9577C21.139 15.1338 21.1921 15.3648 21.2205 15.7624C21.2494 16.1674 21.2498 16.6854 21.2498 17.4284C21.2498 18.1714 21.2494 18.6895 21.2205 19.0945C21.192 19.4923 21.1391 19.7241 21.0623 19.9001C20.8353 20.4201 20.4202 20.8353 19.9001 21.0622C19.7241 21.139 19.4923 21.192 19.0945 21.2204C18.6895 21.2493 18.1714 21.2497 17.4285 21.2497C16.6854 21.2497 16.1674 21.2494 15.7625 21.2204C15.3648 21.192 15.1338 21.139 14.9578 21.0622C14.4376 20.8353 14.0217 20.4203 13.7947 19.9001C13.7179 19.7241 13.6649 19.4923 13.6365 19.0945C13.6076 18.6895 13.6072 18.1714 13.6072 17.4284C13.6072 16.6854 13.6076 16.1674 13.6365 15.7624C13.6649 15.3649 13.718 15.1337 13.7947 14.9577C14.0217 14.4375 14.4375 14.0216 14.9578 13.7946C15.1338 13.7179 15.3649 13.6648 15.7625 13.6364C16.1674 13.6075 16.6854 13.6071 17.4285 13.6071Z"
                                    :stroke="isMainMenuActive ? '#242220' : '#242220'" stroke-width="1.5"
                                    stroke-opacity="0.56" />
                            </svg>
                        </div>
                        <div class="font-black text-xl ml-3">主界面</div>
                    </div>
                    <div class="transition-transform duration-200" :class="{ 'rotate-180': !isMainMenuExpanded }">
                        <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6.0009 2.05241L1.46527 6.55022C1.12914 6.88312 0.587019 6.88312 0.250891 6.55022C0.0903187 6.39159 9.53674e-07 6.17522 9.53674e-07 5.94955C9.53674e-07 5.72388 0.0903187 5.50751 0.250891 5.34888L5.39281 0.250418C5.72857 -0.0835433 6.27143 -0.0835433 6.60719 0.250418L11.7491 5.34867C11.9097 5.50751 12 5.72388 12 5.94955C12 6.17522 11.9097 6.39159 11.7491 6.55043C11.4129 6.88312 10.8708 6.88312 10.5347 6.55L6.0009 2.05241Z"
                                fill="#242220" fill-opacity="0.48" />
                        </svg>
                    </div>
                </div>

                <!-- 子選單 -->
                <Transition name="submenu">
                    <div v-show="isMainMenuExpanded" class="relative ml-[20px] pl-[20px]">
                        <!-- 第一個子項目 -->
                        <div class="flex">
                            <div class="text-[#adaca7]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="36">
                                    <g id="Layer_1">
                                        <line y1="-0.05556" stroke-linecap="undefined" stroke-linejoin="undefined"
                                            id="svg_6" y2="36.00963" x2="3.83333" x1="3.83333" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_11" d="m10.27778,17.27778" opacity="NaN" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_32"
                                            d="m3.88889,16.88889c0.77778,2.66667 8.66667,3.94444 10.94444,3.55556"
                                            opacity="NaN" stroke="#adaca7" fill="none" />
                                    </g>
                                </svg>
                            </div>
                            <NuxtLink to="/visitor/club"
                                class="flex items-center h-[36px] w-[156px] rounded-lg px-[16px] py-[12px] text-[16px]"
                                :class="$route.path === '/visitor/club'
                                    ? 'bg-[#ebe2dc] text-brown font-medium'
                                    : 'text-[#adaca7] hover:bg-[#f5f2ed] font-normal'">
                                聚樂部
                            </NuxtLink>
                        </div>

                        <!-- 第二個子項目 -->
                        <div class="flex">
                            <div class="text-[#adaca7]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="36">
                                    <g id="Layer_1">
                                        <line y1="-0.05556" stroke-linecap="undefined" stroke-linejoin="undefined"
                                            id="svg_6" y2="36.00963" x2="3.83333" x1="3.83333" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_11" d="m10.27778,17.27778" opacity="NaN" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_32"
                                            d="m3.88889,16.88889c0.77778,2.66667 8.66667,3.94444 10.94444,3.55556"
                                            opacity="NaN" stroke="#adaca7" fill="none" />
                                    </g>
                                </svg>
                            </div>
                            <NuxtLink to="/visitor/reverse"
                                class="flex items-center h-[36px] w-[156px] rounded-lg px-[16px] py-[12px] text-[16px]"
                                :class="$route.path === '/visitor/reverse'
                                    ? 'bg-[#ebe2dc] text-brown font-medium'
                                    : 'text-[#adaca7] hover:bg-[#f5f2ed] font-normal'">
                                反轉學習
                            </NuxtLink>
                        </div>
                        <!-- 最後一個子項目 -->
                        <div class="flex">
                            <!-- 弧形連接線（最後一個項目） -->
                            <div class="text-[#adaca7]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="36">
                                    <g id="Layer_1">
                                        <line y1="-19.05556" stroke-linecap="undefined" stroke-linejoin="undefined"
                                            id="svg_6" y2="17.00963" x2="3.83333" x1="3.83333" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_11" d="m10.27778,17.27778" opacity="NaN" stroke="#adaca7"
                                            fill="none" />
                                        <path id="svg_32"
                                            d="m3.83333,16.77778c0.77778,2.66667 8.72222,4.16667 11,3.77778"
                                            opacity="NaN" stroke="#adaca7" fill="none" />
                                    </g>
                                </svg>
                            </div>
                            <NuxtLink to="/visitor/mkLobby"
                                class="flex items-center h-[36px] w-[156px] rounded-lg px-[16px] py-[12px] text-[16px]"
                                :class="$route.path === '/visitor/mkLobby'
                                    ? 'bg-[#ebe2dc] text-brown font-medium'
                                    : 'text-[#adaca7] hover:bg-[#f5f2ed] font-normal'">
                                MK大廳
                            </NuxtLink>
                        </div>
                    </div>
                </Transition>
            </div>

            <!-- 個人資料 -->
            <div
                class="flex items-center justify-between h-[48px] w-[196px] rounded-xl px-[20px] py-[16px] text-[#adaca7] hover:bg-[#f5f2ed] cursor-pointer">
                <div class="flex items-center">
                    <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.8941 6.64136H13.1201M9.8941 10.3282H15.8853M9.8941 14.0151H15.8853"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M20.8734 14.8099C20.9547 14.0113 20.9547 13.0114 20.9547 11.7493L20.9547 9.14694C20.9549 8.18101 20.955 7.55808 20.7869 6.96853C20.6948 6.64532 20.5658 6.33379 20.4024 6.0401C20.1043 5.5044 19.6638 5.06401 18.9806 4.38114L18.8369 4.2374C18.154 3.55425 17.7136 3.11369 17.1779 2.81564C16.8842 2.65224 16.5727 2.5232 16.2495 2.43107C15.6599 2.26303 15.037 2.26315 14.0711 2.26335L12.8896 2.26336V2.26536C12.0275 2.27053 11.3018 2.28906 10.6895 2.3554C9.81826 2.44979 9.09478 2.64757 8.47272 3.09952C8.10103 3.36957 7.77417 3.69643 7.50413 4.06811C7.21632 4.46425 7.03158 4.90151 6.91099 5.39187L6.15529 5.59435C3.81968 6.22018 2.43362 8.6209 3.05945 10.9565L5.0872 18.5242C5.71303 20.8598 8.11374 22.2458 10.4494 21.62L15.7912 20.1887C16.8115 19.9153 17.6505 19.3033 18.2198 18.506C18.4998 18.4083 18.7617 18.2817 19.0089 18.1165C19.4869 17.7971 19.8974 17.3866 20.2168 16.9086C20.616 16.3111 20.7902 15.6281 20.8734 14.8099ZM14.0821 3.64597L13.9695 3.64595C12.5854 3.64596 11.6001 3.64741 10.8384 3.72994C10.0848 3.81158 9.63247 3.96588 9.28538 4.21805C9.03107 4.40282 8.80743 4.62646 8.62266 4.88077C8.37048 5.22787 8.21619 5.68021 8.13455 6.43378C8.0515 7.20029 8.05055 8.19317 8.05055 9.59106V11.711C8.05055 13.0199 8.05139 13.9496 8.12467 14.67C8.19678 15.3788 8.33327 15.808 8.5554 16.1404C8.77396 16.4675 9.05479 16.7484 9.38188 16.9669C9.71432 17.1891 10.1435 17.3255 10.8524 17.3977C11.5728 17.4709 12.5024 17.4718 13.8113 17.4718C15.1202 17.4718 16.0499 17.4709 16.7703 17.3977C17.4791 17.3255 17.9083 17.1891 18.2407 16.9669C18.5678 16.7484 18.8487 16.4675 19.0672 16.1404C19.2894 15.808 19.4258 15.3788 19.498 14.67C19.5712 13.9496 19.5721 13.0199 19.5721 11.711V9.40671C19.5721 8.95266 19.5706 8.68167 19.5445 8.48744C19.5325 8.39844 19.5184 8.35387 19.5102 8.33379C19.5083 8.32914 19.5068 8.32609 19.5058 8.3243L19.5046 8.32206L19.5023 8.32079C19.5005 8.31986 19.4975 8.31837 19.4928 8.31646C19.4728 8.3082 19.4282 8.2941 19.3392 8.28214C19.145 8.25602 18.874 8.25456 18.4199 8.25456L17.457 8.25456C17.058 8.25461 16.6923 8.25465 16.3947 8.21464C16.0671 8.17059 15.7207 8.06695 15.4359 7.78211C15.1511 7.49728 15.0474 7.15097 15.0034 6.82331C14.9634 6.52577 14.9634 6.16 14.9635 5.76107L14.9635 4.61375C14.9635 4.25274 14.9625 4.0375 14.9455 3.88028C14.9355 3.7878 14.9227 3.74991 14.918 3.73893C14.9046 3.72086 14.8886 3.70486 14.8705 3.69143C14.8595 3.68669 14.8216 3.67395 14.7291 3.66393C14.5849 3.6483 14.3918 3.64621 14.0821 3.64597ZM15.4599 18.846C14.9767 18.8544 14.442 18.8544 13.8496 18.8544H13.773C12.511 18.8544 11.511 18.8544 10.7124 18.7731C9.89427 18.6899 9.21124 18.5157 8.61376 18.1165C8.13571 17.7971 7.72525 17.3866 7.40583 16.9086C7.0066 16.3111 6.83242 15.6281 6.74919 14.8099C6.66795 14.0114 6.66796 13.0114 6.66797 11.7494V9.55005C6.66796 8.49819 6.66796 7.61683 6.71172 6.87662L6.51313 6.92983C4.91508 7.35802 3.96673 9.00062 4.39492 10.5987L6.42267 18.1663C6.85087 19.7644 8.49346 20.7127 10.0915 20.2846L15.4334 18.8532C15.4423 18.8508 15.4511 18.8484 15.4599 18.846ZM19.1942 6.71229C19.2263 6.77007 19.2565 6.82885 19.2848 6.88854C19.0385 6.8719 18.7591 6.87193 18.4612 6.87197L17.4982 6.87197C17.0442 6.87197 16.7732 6.8705 16.5789 6.84439C16.4899 6.83243 16.4454 6.81833 16.4253 6.81007C16.4206 6.80816 16.4176 6.80667 16.4158 6.80574L16.4136 6.80447L16.4123 6.80223C16.4114 6.80044 16.4099 6.79739 16.408 6.79274C16.3997 6.77266 16.3856 6.72809 16.3736 6.63909C16.3475 6.44486 16.3461 6.17387 16.3461 5.71982L16.3461 4.58122C16.3461 4.34911 16.3461 4.13093 16.3359 3.93631C16.3934 3.96365 16.45 3.99283 16.5057 4.02382C16.8519 4.21642 17.1516 4.5074 17.9311 5.28692C18.7106 6.06643 19.0016 6.36613 19.1942 6.71229Z"
                                fill="#242220" fill-opacity="0.56" />
                        </svg>
                    </div>
                    <div class="font-medium text-xl ml-3">個人資料</div>
                </div>
            </div>

            <!-- 學習諮商室 -->
            <div
                class="flex items-center justify-between h-[48px] w-[196px] rounded-xl px-[20px] py-[16px] text-[#adaca7] hover:bg-[#f5f2ed] cursor-pointer">
                <div class="flex items-center">
                    <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M20.7739 18C21.5232 18 22.1192 17.5285 22.6543 16.8691C23.7498 15.5194 21.9512 14.4408 21.2652 13.9126C20.5679 13.3756 19.7893 13.0714 18.9999 13M17.9999 11C19.3806 11 20.4999 9.88071 20.4999 8.5C20.4999 7.11929 19.3806 6 17.9999 6"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" stroke-linecap="round" />
                            <path
                                d="M3.2259 18C2.47659 18 1.88061 17.5285 1.34548 16.8691C0.250028 15.5194 2.04861 14.4408 2.73458 13.9126C3.43191 13.3756 4.21052 13.0714 4.99994 13M5.49994 11C4.11923 11 2.99994 9.88071 2.99994 8.5C2.99994 7.11929 4.11923 6 5.49994 6"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" stroke-linecap="round" />
                            <path
                                d="M8.08368 15.1112C7.0619 15.743 4.38286 17.0331 6.01458 18.6474C6.81166 19.436 7.6994 20 8.8155 20H15.1843C16.3004 20 17.1881 19.436 17.9852 18.6474C19.6169 17.0331 16.9379 15.743 15.9161 15.1112C13.52 13.6296 10.4797 13.6296 8.08368 15.1112Z"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M15.4999 7.5C15.4999 9.433 13.9329 11 11.9999 11C10.0669 11 8.49988 9.433 8.49988 7.5C8.49988 5.567 10.0669 4 11.9999 4C13.9329 4 15.4999 5.567 15.4999 7.5Z"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" />
                        </svg>
                    </div>
                    <div class="font-medium text-xl ml-3">學習諮商室</div>
                </div>
                <div>
                    <svg width="13" height="16" viewBox="0 0 13 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M8.61547 15H4.38547C2.48448 14.9677 0.969283 13.401 1.00047 11.5V8C0.983141 6.42628 2.02358 5.03658 3.53847 4.61V4.15C3.48798 2.46276 4.81332 1.0533 6.50047 1C8.18763 1.0533 9.51296 2.46276 9.46247 4.15V4.61C10.9774 5.03658 12.0178 6.42628 12.0005 8V11.5C12.0317 13.401 10.5165 14.9677 8.61547 15Z"
                            stroke="#C7C7C7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M5.75043 11.5C5.75043 11.9142 6.08622 12.25 6.50043 12.25C6.91464 12.25 7.25043 11.9142 7.25043 11.5H5.75043ZM7.25043 9.74999C7.25043 9.33577 6.91464 8.99999 6.50043 8.99999C6.08622 8.99999 5.75043 9.33577 5.75043 9.74999H7.25043ZM9.26997 5.33487C9.67031 5.44116 10.081 5.20279 10.1873 4.80245C10.2936 4.4021 10.0552 3.99139 9.65489 3.8851L9.26997 5.33487ZM8.61643 4.49999V5.24999L8.61712 5.24999L8.61643 4.49999ZM4.38543 4.49999L4.38474 5.24999H4.38543V4.49999ZM3.34697 3.8851C2.94663 3.99139 2.70825 4.4021 2.81454 4.80245C2.92084 5.20279 3.33155 5.44116 3.73189 5.33487L3.34697 3.8851ZM7.25043 11.5V9.74999H5.75043V11.5H7.25043ZM9.65489 3.8851C9.31585 3.79508 8.96652 3.74966 8.61574 3.74999L8.61712 5.24999C8.8375 5.24978 9.05697 5.27832 9.26997 5.33487L9.65489 3.8851ZM8.61643 3.74999H4.38543V5.24999H8.61643V3.74999ZM4.38612 3.74999C4.03533 3.74966 3.68601 3.79508 3.34697 3.8851L3.73189 5.33487C3.94489 5.27832 4.16436 5.24978 4.38474 5.24999L4.38612 3.74999Z"
                            fill="#C7C7C7" />
                    </svg>
                </div>
            </div>

            <!-- 設定 -->
            <div
                class="flex items-center justify-between h-[48px] w-[196px] rounded-xl px-[20px] py-[16px] text-[#adaca7] hover:bg-[#f5f2ed] cursor-pointer">
                <div class="flex items-center">
                    <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" stroke-linecap="round" />
                            <path
                                d="M15.5195 12C15.5195 13.933 13.9525 15.5 12.0195 15.5C10.0865 15.5 8.51953 13.933 8.51953 12C8.51953 10.067 10.0865 8.5 12.0195 8.5C13.9525 8.5 15.5195 10.067 15.5195 12Z"
                                stroke="#242220" stroke-opacity="0.56" stroke-width="1.5" />
                        </svg>
                    </div>
                    <div class="font-medium text-xl ml-3">設定</div>
                </div>
            </div>

            <!-- CAT 聯繫 -->
            <div
                class="flex items-center justify-between h-[48px] w-[196px] rounded-xl px-[20px] py-[16px] text-[#adaca7] hover:bg-[#f5f2ed] cursor-pointer text-[11px]">
                與專屬 CAT 聯繫
                <svg width="13" height="16" viewBox="0 0 13 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M8.61547 15H4.38547C2.48448 14.9677 0.969283 13.401 1.00047 11.5V8C0.983141 6.42628 2.02358 5.03658 3.53847 4.61V4.15C3.48798 2.46276 4.81332 1.0533 6.50047 1C8.18763 1.0533 9.51296 2.46276 9.46247 4.15V4.61C10.9774 5.03658 12.0178 6.42628 12.0005 8V11.5C12.0317 13.401 10.5165 14.9677 8.61547 15Z"
                        stroke="#C7C7C7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M5.75043 11.5C5.75043 11.9142 6.08622 12.25 6.50043 12.25C6.91464 12.25 7.25043 11.9142 7.25043 11.5H5.75043ZM7.25043 9.74999C7.25043 9.33577 6.91464 8.99999 6.50043 8.99999C6.08622 8.99999 5.75043 9.33577 5.75043 9.74999H7.25043ZM9.26997 5.33487C9.67031 5.44116 10.081 5.20279 10.1873 4.80245C10.2936 4.4021 10.0552 3.99139 9.65489 3.8851L9.26997 5.33487ZM8.61643 4.49999V5.24999L8.61712 5.24999L8.61643 4.49999ZM4.38543 4.49999L4.38474 5.24999H4.38543V4.49999ZM3.34697 3.8851C2.94663 3.99139 2.70825 4.4021 2.81454 4.80245C2.92084 5.20279 3.33155 5.44116 3.73189 5.33487L3.34697 3.8851ZM7.25043 11.5V9.74999H5.75043V11.5H7.25043ZM9.65489 3.8851C9.31585 3.79508 8.96652 3.74966 8.61574 3.74999L8.61712 5.24999C8.8375 5.24978 9.05697 5.27832 9.26997 5.33487L9.65489 3.8851ZM8.61643 3.74999H4.38543V5.24999H8.61643V3.74999ZM4.38612 3.74999C4.03533 3.74966 3.68601 3.79508 3.34697 3.8851L3.73189 5.33487C3.94489 5.27832 4.16436 5.24978 4.38474 5.24999L4.38612 3.74999Z"
                        fill="#C7C7C7" />
                </svg>
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// 主選單展開狀態
const isMainMenuExpanded = ref(true)
const isSidebarCollapsed = ref(false)

// 檢查是否在主選單相關路由
const route = useRoute()
const isMainMenuActive = computed(() => {
    const mainMenuPaths = ['/visitor', '/visitor/learning', '/visitor/hall']
    return mainMenuPaths.includes(route.path)
})

// 切換主選單展開狀態
const toggleMainMenu = () => {
    isMainMenuExpanded.value = !isMainMenuExpanded.value
}
</script>

<style scoped>
/* 子選單動畫 */
.submenu-enter-active,
.submenu-leave-active {
    transition: all 0.3s ease;
    overflow: hidden;
}

.submenu-enter-from,
.submenu-leave-to {
    opacity: 0;
    max-height: 0;
    transform: translateY(-10px);
}

.submenu-enter-to,
.submenu-leave-from {
    opacity: 1;
    max-height: 200px;
    transform: translateY(0);
}

/* 弧形連接線樣式 */
.tree-curved-line {
    position: absolute;
    left: -10px;
    top: 20px;
    width: 20px;
    height: 20px;
}

.tree-curved-line path {
    stroke: #d1d5db;
    stroke-width: 1;
    fill: none;
}

/* 垂直線樣式 */
.tree-vertical-line {
    position: absolute;
    left: 10px;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: #d1d5db;
}

/* 覆蓋線樣式 */
.tree-cover-line {
    position: absolute;
    left: 10px;
    top: 20px;
    bottom: 0;
    width: 1px;
    background-color: white;
}
</style>
